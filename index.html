<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Alexâ€™s Cozy Christmas Quest ğŸ„</title>
<style>
body {
  margin: 0;
  font-family: "Comic Sans MS", cursive;
  color: white;
  text-align: center;
  overflow: hidden;
}

.title {
  color: #bc4a08;
}

.description {
  color: #af5f0a;
}

/* Page sections */
.page {
  padding: 60px 20px;
  min-height: 100vh;
}

.hidden { display: none; }

button {
  padding: 14px 22px;
  margin: 10px;
  font-size: 18px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  background: #ffb703;
}

button:hover {
  background: #ffd166;
}

input {
  padding: 12px;
  font-size: 16px;
  border-radius: 10px;
  border: none;
}

/* Fade-in animation */
.fade-in {
  animation: fadeIn 1s forwards;
  opacity: 0;
}
@keyframes fadeIn {
  to { opacity: 1; }
}

/* Snow animation */
.snow {
  position: fixed;
  top: -10px;
  color: white;
  font-size: 16px;
  animation: fall linear infinite;
}
@keyframes fall {
  to { transform: translateY(110vh); }
}

/* Cat Easter egg */
.cat {
  position: fixed;
  bottom: 15px;
  right: 15px;
  font-size: 30px;
  cursor: pointer;
}

/* Snowman visual container */
#snowmanVisual div {
  font-size: 60px;
  margin: -20px 0;
}

/* Cozy house background for Level 1 */
#level1 {
  background: url('cozy-house.jpg') no-repeat center center;
  background-size: cover;
  position: relative;
}

/* Twinkling Christmas lights */
.light {
  position: absolute;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #ffd700;
  animation: blink 1.5s infinite;
}
@keyframes blink {
  0%, 50%, 100% { opacity: 1; }
  25%, 75% { opacity: 0.3; }
}
</style>
</head>
<body>

<!-- Background Music -->
<audio autoplay loop>
  <source src="christmas.mp3" type="audio/mpeg">
</audio>

<!-- LEVEL 1: Cozy House -->
<div id="level1" class="page">
  <h1 class="title">ğŸ  Welcome to Alexâ€™s Cozy Christmas Home</h1>
  <p class="description">Snow falls gently outside, and a Christmas tree glows warmly inside ğŸŒŸ</p>
  <button onclick="goLevel2()">ğŸ Step through the Portal</button>

  <!-- Level 1 Gift -->
  <div id="gift1" class="hidden fade-in">
    ğŸ A warm virtual hug for Alex ğŸ§¡
  </div>

  <!-- Cat Easter egg -->
  <div class="cat" onclick="catNote(1)">ğŸˆ</div>
</div>

<!-- LEVEL 2: Snowman -->
<div id="level2" class="page hidden">
  <h1>â›„ Build the Snowman</h1>
  <p>Click the pieces in the correct order!</p>

  <button onclick="addStep('hat')">ğŸ© hat</button>
  <button onclick="addStep('snowball')">âšª snowball</button>
  <button onclick="addStep('scarf')">ğŸ§£ scarf</button>
  
  <button class="retry-btn" onclick="retrySnowman()">ğŸ”„ Retry</button>
<style>
/* ...your existing CSS... */

.retry-btn {
  display: block;        /* makes it appear on its own line */
  margin: 10px auto;     /* centers it under the other buttons */
  padding: 8px 16px;     /* smaller size than the other buttons */
  font-size: 14px;       /* smaller text */
  background: #ff6f61;   /* optional: different color */
}

.retry-btn:hover {
  background: #ff8a75;   /* optional hover color */
}
</style>


  <p id="snowmanMsg"></p>
  <div id="snowmanVisual"></div>

  <!-- Level 2 Gift -->
  <div id="gift2" class="hidden fade-in">
    <img src="gift2.png" alt="Gift 2" style="width:200px; margin-top:20px;">
    <p>Alex, hereâ€™s a snowflake just for you! â„ï¸</p>
  </div>

  <div class="cat" onclick="catNote(2)">ğŸˆ</div>
</div>

<!-- LEVEL 3: Password -->
<div id="level3" class="page hidden">
  <h1>ğŸ” Final Gate</h1>
  <p>Enter your nickname:</p>
  <input id="password" placeholder="nickname">
  <br><br>
  <button onclick="checkPassword()">Unlock ğŸ„</button>

  <p id="passMsg"></p>

  <!-- Level 3 Gift -->
  <div id="gift3" class="hidden fade-in">
    ğŸ Alex, you unlocked the final Christmas surprise! ğŸ§¡
  </div>

  <div class="cat" onclick="catNote(3)">ğŸˆ</div>
</div>

<!-- FINAL PAGE -->
<div id="final" class="page hidden">
  <h1>ğŸ„ Merry Christmas, Alex</h1>
  <p>I made all of this just for you.<br>Even from far away, you matter to me more than you know ğŸ§¡</p>
  <div class="cat" onclick="catNote(4)">ğŸˆ</div>
</div>

<script>
// Falling snow
for (let i = 0; i < 40; i++) {
  let snow = document.createElement("div");
  snow.className = "snow";
  snow.innerText = "â„";
  snow.style.left = Math.random() * 100 + "vw";
  snow.style.animationDuration = 3 + Math.random() * 5 + "s";
  snow.style.opacity = Math.random();
  snow.style.fontSize = 12 + Math.random() * 20 + "px";
  document.body.appendChild(snow);
}

// Twinkling lights for Level 1
for (let i = 0; i < 20; i++) {
  let light = document.createElement("div");
  light.className = "light";
  light.style.top = Math.random() * 80 + "vh";
  light.style.left = Math.random() * 90 + "vw";
  document.getElementById('level1').appendChild(light);
}

// Level transitions
function goLevel2() {
  level1.classList.add("hidden");
  level2.classList.remove("hidden");
  gift1.classList.remove("hidden");
}

// Snowman logic
let correctOrder = ["snowball", "scarf", "hat"];
let playerOrder = [];

function addStep(step) {
  playerOrder.push(step);
  let index = playerOrder.length - 1;

  if (playerOrder[index] !== correctOrder[index]) {
    playerOrder = [];
    snowmanMsg.innerText = "Oops! Wrong order! â„ï¸ Try again!";
    snowmanVisual.innerHTML = "";
    return;
  }

  // Add piece visually with animation
  let piece = document.createElement("div");
  piece.innerText = step === "snowball" ? "âšª" : step === "scarf" ? "ğŸ§£" : "ğŸ©";
  piece.style.opacity = 0;
  piece.style.transition = "opacity 0.5s";
  snowmanVisual.appendChild(piece);
  setTimeout(() => { piece.style.opacity = 1; }, 50);

  if (playerOrder.length === correctOrder.length) {
    snowmanMsg.innerText = "Snowman complete! ğŸ";
    gift2.classList.remove("hidden");
    gift2.classList.add("fade-in");
    setTimeout(() => {
      level2.classList.add("hidden");
      level3.classList.remove("hidden");
    }, 2000);
  }
}

// Retry snowman
function retrySnowman() {
  playerOrder = [];
  snowmanMsg.innerText = "Start building the snowman again! â›„";
  snowmanVisual.innerHTML = "";
}

// Show solution
function showSolution() {
  alert("Hint: Build the snowman in this order â†’ Snowball âšª, Scarf ğŸ§£, Hat ğŸ©");
}

// Password check
function checkPassword() {
  let pass = password.value.toLowerCase();
  if (pass === "honey") {
    level3.classList.add("hidden");
    gift3.classList.remove("hidden");
    gift3.classList.add("fade-in");
    setTimeout(() => { final.classList.remove("hidden"); }, 1500);
  } else {
    passMsg.innerText = "Thatâ€™s not itâ€¦ think of what I call you ğŸ’­";
  }
}

// Cat Easter eggs
function catNote(level) {
  const notes = {
    1: "An orange cat watches you from the snowâ€¦ ğŸ§¡",
    2: "The cat drops a tiny folded note.",
    3: "The cat purrs like it knows the password.",
    4: "If you found meâ€¦ Iâ€™m really glad itâ€™s you ğŸ¾ğŸ§¡"
  };
  alert(notes[level]);
}
</script>
</body>
</html>
