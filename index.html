<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Alexâ€™s Christmas Quest ğŸ„</title>

<style>
body {
  margin: 0;
  font-family: "Comic Sans MS", cursive;
  background: linear-gradient(#0b1d33, #1e3c72);
  color: white;
  text-align: center;
  overflow: hidden;
}

.hidden { display: none; }

.page {
  padding: 60px 20px;
  min-height: 100vh;
}

button {
  padding: 14px 22px;
  margin: 10px;
  font-size: 18px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  background: #ffb703;
}

button:hover {
  background: #ffd166;
}

input {
  padding: 12px;
  font-size: 16px;
  border-radius: 10px;
  border: none;
}

/* â„ï¸ Snow animation */
.snow {
  position: fixed;
  top: -10px;
  color: white;
  font-size: 16px;
  animation: fall linear infinite;
}

@keyframes fall {
  to {
    transform: translateY(110vh);
  }
}

/* ğŸˆ Orange cat */
.cat {
  position: fixed;
  bottom: 15px;
  right: 15px;
  font-size: 30px;
  cursor: pointer;
}
</style>
</head>

<body>

<!-- ğŸ¶ Christmas Music -->
<audio autoplay loop>
  <source src="christmas.mp3" type="audio/mpeg">
</audio>

<!-- LEVEL 1 -->
<div id="level1" class="page">
  <h1>ğŸ… North Pole Portal</h1>
  <p>Authorized Visitor:</p>
  <h2>Alex ğŸ’™</h2>

  <p>Santa left something special just for you.</p>

  <button onclick="goLevel2()">ğŸ Enter the North Pole</button>

  <div class="cat" onclick="catNote(1)">ğŸˆ</div>
</div>

<!-- LEVEL 2 -->
<div id="level2" class="page hidden">
  <h1>â›„ Build the Snowman</h1>
  <p>Build it in the correct order!</p>

  <button onclick="addStep('hat')">ğŸ© Hat</button>
  <button onclick="addStep('snowball')">â„ï¸ Snowball</button>
  <button onclick="addStep('scarf')">ğŸ§£ Scarf</button>

  <p id="snowmanMsg"></p>

  <div class="cat" onclick="catNote(2)">ğŸˆ</div>
</div>

<!-- LEVEL 3 -->
<div id="level3" class="page hidden">
  <h1>ğŸ” Final Gate</h1>
  <p>Enter your nickname:</p>

  <input id="password" placeholder="nickname">
  <br><br>
  <button onclick="checkPassword()">Unlock ğŸ„</button>

  <p id="passMsg"></p>

  <div class="cat" onclick="catNote(3)">ğŸˆ</div>
</div>

<!-- FINAL -->
<div id="final" class="page hidden">
  <h1>ğŸ„ Merry Christmas, Alex</h1>
  <p>
    I made all of this just for you.<br><br>
    Even from far away,<br>
    you matter to me more than you know ğŸ§¡
  </p>

  <div class="cat" onclick="catNote(4)">ğŸˆ</div>
</div>

<script>
// â„ï¸ Falling snow
for (let i = 0; i < 40; i++) {
  let snow = document.createElement("div");
  snow.className = "snow";
  snow.innerText = "â„";
  snow.style.left = Math.random() * 100 + "vw";
  snow.style.animationDuration = 3 + Math.random() * 5 + "s";
  snow.style.opacity = Math.random();
  snow.style.fontSize = 12 + Math.random() * 20 + "px";
  document.body.appendChild(snow);
}

// Levels
function goLevel2() {
  level1.classList.add("hidden");
  level2.classList.remove("hidden");
}

// â›„ Snowman logic (FIXED)
let correctOrder = ["snowball", "scarf", "hat"];
let playerOrder = [];

function addStep(step) {
  playerOrder.push(step);
  let index = playerOrder.length - 1;

  if (playerOrder[index] !== correctOrder[index]) {
    playerOrder = [];
    snowmanMsg.innerText = "Oops! The snowman fell apart â„ï¸ Try again!";
    return;
  }

  if (playerOrder.length === correctOrder.length) {
    snowmanMsg.innerText = "Snowman complete! ğŸ";
    setTimeout(() => {
      level2.classList.add("hidden");
      level3.classList.remove("hidden");
    }, 2000);
  }
}

// ğŸ” Password
function checkPassword() {
  let pass = password.value.toLowerCase();
  if (pass === "honey") {
    level3.classList.add("hidden");
    final.classList.remove("hidden");
  } else {
    passMsg.innerText = "Thatâ€™s not itâ€¦ think of what I call you ğŸ’­";
  }
}

// ğŸˆ Cat Easter eggs
function catNote(level) {
  const notes = {
    1: "An orange cat watches you from the snowâ€¦ ğŸ§¡",
    2: "The cat drops a tiny folded note.",
    3: "The cat purrs like it knows the password.",
    4: "If you found meâ€¦ Iâ€™m really glad itâ€™s you ğŸ¾ğŸ§¡"
  };
  alert(notes[level]);
}
</script>

</body>
</html>
